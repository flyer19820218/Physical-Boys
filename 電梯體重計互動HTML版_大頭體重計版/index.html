<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>電梯 × 體重計讀數｜力圖＋加速度互動（大頭體重計版｜kgw）</title>
<style>
  :root{
    --bg:#ffffff; --panel:#fafafb; --border:#e5e7eb;
    --shaft:#e8ebf2; --frame:#8b95a5; --cabin:#f9fbff;
    --rail:#a7b0bd; --shadow:#d1d5db;
    --N:#10b981; --mg:#ef4444; --acc:#1d4ed8;
    --text:#111827; --muted:#6b7280; --big:26px;
  }
  html,body{margin:0;background:var(--bg);color:var(--text);
    font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans TC,Arial;}
  .wrap{max-width:1280px;margin:16px auto;padding:0 12px;}
  .panel{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:12px;}
  .ctrls{display:flex;gap:14px;align-items:center;flex-wrap:wrap;margin-bottom:8px}
  .ctrls label{font-size:var(--big);color:var(--text);font-weight:700}
  .ctrls input[type=number]{font-size:var(--big);padding:2px 8px;width:100px;margin-left:6px}
  .ctrls input[type=range]{width:360px}
  .pill{padding:2px 10px;border:1px solid var(--border);border-radius:999px;background:#fff;font-size:var(--big);color:var(--muted)}
  .btn{font-size:var(--big);padding:4px 10px;border:1px solid var(--border);border-radius:8px;background:#fff;cursor:pointer}
  .btn:hover{background:#f5f6f8}
  .legend{display:flex;gap:16px;margin-top:6px}
  .lg{display:flex;align-items:center;gap:8px;font-size:16px;color:var(--muted)}
  .lg i{display:inline-block;width:16px;height:16px;border-radius:3px}
  svg{width:100%;height:auto;border:1px solid var(--border);border-radius:12px;background:#fff}
</style>
</head>
<body>
<div class="wrap">
  <div class="panel">
    <div class="ctrls">
      <label>質量 m(kg)
        <input id="m" type="number" min="1" max="200" step="1" value="60">
      </label>
      <label>重力 g(m/s²)
        <input id="g" type="number" min="1" max="20" step="0.1" value="9.8">
      </label>

      <label> N/(m·g) </label>
      <input id="k" type="range" min="0" max="2" value="1" step="0.01" style="height:28px">
      <span id="kVal" class="pill">1.00</span>

      <span style="margin-left:auto; display:flex; gap:8px; align-items:center; flex-wrap:wrap">
        <button class="btn" data-k="0">N=0</button>
        <button class="btn" data-k="0.5">N=0.5mg</button>
        <button class="btn" data-k="1">N=mg</button>
        <button class="btn" data-k="1.5">N=1.5mg</button>
        <button class="btn" data-k="2">N=2mg</button>
        <span style="width:8px"></span>
        <button class="btn scen" data-k="1.3">起步加速</button>
        <button class="btn scen" data-k="1.0">等速</button>
        <button class="btn scen" data-k="0.7">減速到停</button>
      </span>
    </div>

    <svg id="stage" viewBox="0 0 1280 720" preserveAspectRatio="xMidYMid meet">
      <!-- 井道與導軌 -->
      <rect x="60" y="40" width="560" height="640" rx="8" fill="var(--shaft)" stroke="var(--frame)" stroke-width="3"/>
      <rect x="234" y="60" width="6" height="600" fill="var(--rail)"/>
      <rect x="546" y="60" width="6" height="600" fill="var(--rail)"/>

      <!-- 車廂 -->
      <rect x="240" y="80" width="300" height="580" rx="18" fill="var(--cabin)" stroke="var(--frame)" stroke-width="4"/>
      <line x1="260" y1="520" x2="520" y2="520" stroke="var(--shadow)" stroke-width="4"/>

      <!-- 體重計（放大 200×60） -->
      <rect id="scale" x="310" y="530" width="200" height="60" fill="#fff" stroke="var(--frame)"/>

      <!-- 人物 -->
      <ellipse cx="372" cy="566" rx="16" ry="7" fill="#3f3f46" stroke="#2f2f2f"/>
      <ellipse cx="448" cy="566" rx="16" ry="7" fill="#3f3f46" stroke="#2f2f2f"/>
      <rect x="364" y="518" width="96" height="44" rx="6" fill="#6b7aa8" stroke="#2f2f2f"/>

      <rect id="body" x="335" y="400" width="150" height="160" rx="18" fill="#8bd3e6" stroke="#2f2f2f" stroke-width="3"/>
      <text id="displayN"   x="410" y="470" text-anchor="middle" font-size="26" fill="#ffffff" font-weight="800">000 N</text>
      <text id="displayKGW" x="410" y="497" text-anchor="middle" font-size="18" fill="#ffffff" font-weight="700">≈ 0.0 kgw</text>

      <!-- 手 -->
      <line x1="335" y1="465" x2="300" y2="455" stroke="#2f2f2f" stroke-width="4"/>
      <circle cx="295" cy="453" r="13" fill="#ffe6d0" stroke="#2f2f2f"/>
      <line x1="485" y1="465" x2="520" y2="455" stroke="#2f2f2f" stroke-width="4"/>
      <circle cx="525" cy="453" r="13" fill="#ffe6d0" stroke="#2f2f2f"/>

      <!-- 頭放大 r=50 -->
      <circle cx="410" cy="360" r="50" fill="#ffe6d0" stroke="#2f2f2f" stroke-width="3"/>
      <circle cx="395" cy="366" r="4.2" fill="#1f2937"/>
      <circle cx="425" cy="366" r="4.2" fill="#1f2937"/>
      <path d="M395,382 Q410,390 425,382" stroke="#2f2f2f" stroke-width="2.6" fill="none"/>
      <ellipse cx="388" cy="380" rx="8" ry="4" fill="#ffb3c1" opacity="0.7"/>
      <ellipse cx="432" cy="380" rx="8" ry="4" fill="#ffb3c1" opacity="0.7"/>

      <!-- 力圖 -->
      <g id="forces">
        <g id="mg">
          <line id="mgShaft" x1="145" y1="420" x2="145" y2="540" stroke="var(--mg)" stroke-width="14" stroke-linecap="round"/>
          <polygon id="mgHead" points="145,556 129,526 161,526" fill="var(--mg)"/>
          <text x="131" y="590" text-anchor="end" font-size="26" font-weight="800" fill="var(--mg)">mg ↓</text>
        </g>
        <g id="Ng">
          <line id="Nshaft" x1="175" y1="540" x2="175" y2="420" stroke="var(--N)" stroke-width="14" stroke-linecap="round"/>
          <polygon id="Nhead" points="175,404 159,434 191,434" fill="var(--N)"/>
          <text x="191" y="590" text-anchor="start" font-size="26" font-weight="800" fill="var(--N)">N ↑</text>
        </g>
      </g>

      <!-- 加速度 -->
      <g id="accRight">
        <line x1="620" y1="160" x2="620" y2="560" stroke="#e5e7eb" stroke-width="2" />
        <line id="ashaft" x1="620" y1="360" x2="620" y2="260" stroke="#1d4ed8" stroke-width="18" stroke-linecap="round"/>
        <polygon id="ahead" points="620,232 592,270 648,270" fill="#1d4ed8"/>
        <text id="aLabel" x="620" y="210" text-anchor="middle" font-size="26" font-weight="800" fill="#1d4ed8">a ↑</text>
      </g>

      <!-- 公式 -->
      <g id="formulaRight" font-size="26" font-weight="800" fill="#111">
        <text x="700" y="240">N − mg = m a</text>
        <text x="700" y="290">a = N/m − g = <tspan id="aShow">0.0</tspan> m/s²</text>
        <text x="700" y="340">m = <tspan id="mShow">60</tspan> kg</text>
        <text x="700" y="390">g = <tspan id="gShow">9.8</tspan> m/s²</text>
        <text x="700" y="440">N = <tspan id="NShow">588</tspan> N（≈ <tspan id="KGWShow">60.0</tspan> kgw）</text>
      </g>

      <!-- 浮水印 -->
      <text x="1260" y="700" text-anchor="end" font-size="16" fill="#9ca3af">作者︰彥君&amp;GPT</text>
    </svg>
  </div>
</div>

<script>
  const mEl = document.getElementById('m');
  const gEl = document.getElementById('g');
  const kEl = document.getElementById('k');
  const kVal = document.getElementById('kVal');
  const mShow = document.getElementById('mShow');
  const gShow = document.getElementById('gShow');
  const NShow = document.getElementById('NShow');
  const aShow = document.getElementById('aShow');
  const KGWShow = document.getElementById('KGWShow');
  const displayN = document.getElementById('displayN');
  const displayKGW = document.getElementById('displayKGW');
  const mgShaft = document.getElementById('mgShaft');
  const mgHead = document.getElementById('mgHead');
  const Nshaft = document.getElementById('Nshaft');
  const Nhead = document.getElementById('Nhead');
  const ashaft = document.getElementById('ashaft');
  const ahead = document.getElementById('ahead');
  const aLabel = document.getElementById('aLabel');

  function fmt(x){ return (Math.round(x*10)/10).toFixed(1); }

  function update(){
    const m = Math.max(1, +mEl.value);
    const g = Math.max(0.1, +gEl.value);
    const k = Math.min(2, Math.max(0, +kEl.value));
    kEl.value = k; kVal.textContent = k.toFixed(2);

    const mg = m*g, N = k*mg, a = (N/m) - g, kgw = N/g;

    mShow.textContent = m; gShow.textContent = g;
    NShow.textContent = Math.round(N);
    aShow.textContent = fmt(a);
    KGWShow.textContent = fmt(kgw);
    displayN.textContent = Math.round(N)+" N";
    displayKGW.textContent = "≈ "+fmt(kgw)+" kgw";

    const Yc=480, mgLen=120, NLen=Math.min(240,120*k);
    mgShaft.setAttribute('y1',Yc-mgLen/2);
    mgShaft.setAttribute('y2',Yc+mgLen/2);
    mgHead.setAttribute('points',`145,${Yc+mgLen/2+16} 129,${Yc+mgLen/2-14} 161,${Yc+mgLen/2-14}`);
    Nshaft.setAttribute('y1',Yc+NLen/2);
    Nshaft.setAttribute('y2',Yc-NLen/2);
    Nhead.setAttribute('points',`175,${Yc-NLen/2-16} 159,${Yc-NLen/2+14} 191,${Yc-NLen/2+14}`);

    const aBase=120,aLen=Math.min(240,Math.abs(a)/g*aBase),ax=620,aMid=360;
    if(a>=0){
      ashaft.setAttribute('y1',aMid);ashaft.setAttribute('y2',aMid-aLen);
      ahead.setAttribute('points',`${ax},${aMid-aLen-28} ${ax-28},${aMid-aLen+10} ${ax+28},${aMid-aLen+10}`);
      aLabel.textContent="a ↑";aLabel.setAttribute('y',aMid-aLen-40);
    }else{
      ashaft.setAttribute('y1',aMid);ashaft.setAttribute('y2',aMid+aLen);
      ahead.setAttribute('points',`${ax},${aMid+aLen+28} ${ax-28},${aMid+aLen-10} ${ax+28},${aMid+aLen-10}`);
      aLabel.textContent="a ↓";aLabel.setAttribute('y',aMid+aLen+60);
    }
  }

  document.querySelectorAll('.btn[data-k],.btn.scen[data-k]').forEach(btn=>{
    btn.addEventListener('click',()=>{kEl.value=btn.getAttribute('data-k');update();});
  });
  [mEl,gEl,kEl].forEach(el=>el.addEventListener('input',update));
  update();
</script>
</body></html>